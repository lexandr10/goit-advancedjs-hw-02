{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst form = document.querySelector('.form');\n\n// Set event listener submit on form\nform.addEventListener('submit', onSubmitForm);\n\n// Submit form\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  let delay = Number(form.delay.value);\n\n  for (let i = 1; i <= form.amount.value; i += 1) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        iziToast.show({\n          message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.show({\n          message: `❌ Rejected promise ${position} in ${delay}ms`,\n        });\n      });\n    delay += Number(form.step.value);\n  }\n  e.currentTarget.reset();\n}\n\n// Create promise\nfunction createPromise(position, delay) {\n  const obj = { position, delay };\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve(obj);\n      } else {\n        // Reject\n        reject(obj);\n      }\n    }, delay);\n  });\n}\n"],"names":["form","onSubmitForm","e","delay","i","createPromise","position","iziToast","obj","shouldResolve","resolve","reject"],"mappings":"mIAEA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAG3CA,EAAK,iBAAiB,SAAUC,CAAY,EAG5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChB,IAAIC,EAAQ,OAAOH,EAAK,MAAM,KAAK,EAEnC,QAASI,EAAI,EAAGA,GAAKJ,EAAK,OAAO,MAAOI,GAAK,EAC3CC,EAAcD,EAAGD,CAAK,EACnB,KAAK,CAAC,CAAE,SAAAG,EAAU,MAAAH,KAAY,CAC7BI,EAAS,KAAK,CACZ,QAAS,uBAAuBD,QAAeH,KACzD,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAG,EAAU,MAAAH,KAAY,CAC9BI,EAAS,KAAK,CACZ,QAAS,sBAAsBD,QAAeH,KACxD,CAAS,CACT,CAAO,EACHA,GAAS,OAAOH,EAAK,KAAK,KAAK,EAEjCE,EAAE,cAAc,OAClB,CAGA,SAASG,EAAcC,EAAUH,EAAO,CACtC,MAAMK,EAAM,CAAE,SAAAF,EAAU,MAAAH,GAClBM,EAAgB,KAAK,OAAM,EAAK,GAEtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACXF,EAEFC,EAAQF,CAAG,EAGXG,EAAOH,CAAG,CAEb,EAAEL,CAAK,CACZ,CAAG,CACH"}